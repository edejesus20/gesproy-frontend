
<ng-template [ngIf]="isLoggedIn === true">
  <div class="grid"  [style]="{'background':'#f16357',
  'color':'#fff','font-weight':'bold','margin':'0',
  'border':'1px solid #f16357','border-radius':'0px'}">

  <div class="col-12 sm:col-2 md:col-3 lg:col-3 xl:col-3">
    <p-button styleClass="p-button-outlined  p-button-warning" (click)="display = true" class="mr-3">
      <i class="pi pi-align-justify"  style="font-size: 1.5rem; margin-top: 5px;color:black"></i>
        <!-- <img alt="logo" src="assets/avatars-avataaars.png" style="width: 1.5rem"/> -->
        <span class="ml-2 font-bold" style="color:#FBC02D">GESPROY - UNIGUAJIRA</span>
    </p-button>
  </div>
  <div class="col-12 sm:col-2 md:col-3 lg:col-4 xl:col-5"></div>
  <div class="col-12 sm:col-7 md:col-6 lg:col-5 xl:col-4">
    <!-- <button type="button" pButton pRipple  
   
    style="padding-top: 8px;padding-bottom:0px"
    class="p-button-rounded p-button-text"> -->
    <ng-template [ngIf]="notifications.length > 0">
      <i class="pi pi-bell mr-4 " 
      pBadge style="font-size: 1.5rem" value="{{notifications.length}}" 
      (click)="op.toggle($event)"></i>
    </ng-template>
    <ng-template [ngIf]="notifications.length == 0">
      <i class="pi pi-bell mr-4 " 
       style="font-size: 1.5rem" value="" 
      (click)="op.toggle($event)"></i>
    </ng-template>
    
     
    <!-- </button> -->
   
    <button pButton pRipple type="button"  [disabled]="true"
    class="p-button-outlined  p-button-warning"
    style="padding: 7px;">
   <div class="clock" style="color:#FBC02D;font-weight:bold">
     {{dia | titlecase}} - {{fecha | titlecase}} [
        <span class="mishoras">{{hora}}:{{minutos}}:<span class="segundos">{{segundos}}</span></span>
     <span class="ampm"> {{ampm}}</span> ]
   </div>
     </button>
     <button type="button" pButton pRipple 
     class="p-button-rounded p-button-text ml-3"
      icon="pi pi-plus" (click)="menu.toggle($event)">
       <p-avatar image="{{image3}}" 
       styleClass="ml-3" size="large" shape="circle"></p-avatar>
     </button>

     <p-menu #menu [popup]="true"  [model]="items" 
     [style]="{'width':'200px','margin-top':'5px'}"></p-menu>


     <div #menu2 class="box hidden" header="Anuncios" 
     style="display: inline-block;margin:0px">

    </div>
  

  </div>


  </div>
  
  
  <p-overlayPanel #op [showCloseIcon]="false" [dismissable]="true"[style]="{width: '450px'}">
    <ng-template pTemplate>
      <ng-template [ngIf]="recipients.length">
        <span *ngFor="let item of recipients" >
            <div class="grid">
              <div class="col-12 ">
                  <div class="surface-card shadow-2 p-3 border-round">
                      <div class="flex justify-content-between mb-3">
                          <div>
                              <span class="block text-500 font-medium mb-3"> {{item.Notification?.title | titlecase}}</span>
                              <div class="text-900 font-medium text-xl">{{item.Notification?.abstract}}</div>
                          </div>
                          <div class="flex align-items-center 
                          justify-content-center " 
                          style="width:3.5rem;height:3.5rem">
                          <p-avatar image="{{item.Notification?.User?.avatar}}" [title]="item.Notification?.User?.email"
                          styleClass="ml-3" size="xlarge" shape="circle"></p-avatar>
                          </div>
                      </div>
                      <span class="text-green-500 font-medium">
                        {{item.Notification?.User?.fullName}}
                      </span>
                      <span class="text-500">{{item.Notification?.date_firt}}</span>
                      <span class="text-blue-500 font-medium ml-1"
                      style="cursor:pointer; cursor: hand"
                       (click)="mostrarNOtificaciones($event)">
                        Detalle
                      </span>
                  </div>
              </div>
            </div>
            <hr>

        </span>
        <div class="flex justify-content-center align-items-center  mb-3" *ngIf="notifications.length > 3">
          <span class="text-900 font-medium text-xl" 
          style="text-align: center;margin-top: -15px;"> Ver Mas</span>
        </div>
      </ng-template>

         <ng-template [ngIf]="!recipients.length">
                  <p-card [style]="{'height':'70px',
                  'text-aling':'center','padding': '0px'}">
                  <div class="flex justify-content-center align-items-center  mb-3">
                    <span class="text-900 font-medium text-xl" 
                    style="text-align: center;margin-top: -15px;"> No hay Anuncios</span>
                  </div>

        </p-card>

      </ng-template>
      
      
     
    </ng-template>
</p-overlayPanel>



    <!-- <p-menubar  [autoDisplay]="false"
     
    [style]="{'background':'#f16357',
'color':'#fff','font-weight':'bold',
'border':'1px solid #f16357','border-radius':'0px'}">
      <ng-template pTemplate="start">
          <p-button styleClass="p-button-outlined  p-button-warning" (click)="display = true" class="mr-3">
            <i class="pi pi-align-justify"  style="font-size: 1.5rem; margin-top: 5px;color:black"></i>
              <span class="ml-2 font-bold" style="color:#FBC02D">GESPROY - UNIGUAJIRA</span>
          </p-button>
      </ng-template>
      <ng-template pTemplate="end">

          <button type="button" pButton pRipple 
          class="p-button-rounded p-button-text mr-2"
           icon="pi pi-plus" (click)="menu.toggle($event)">
            <p-avatar image="{{image3}}" 
            styleClass="ml-3" size="large" shape="circle"></p-avatar>
          </button>
          <i class="pi pi-bell mr-4 mb-1" pBadge style="font-size: 1.5rem" value="2"></i>
          <button pButton pRipple type="button"  [disabled]="true"
          class="p-button-outlined  p-button-warning"
          style="padding: 7px;">
         <div class="clock" style="color:#FBC02D;font-weight:bold">
           {{dia | titlecase}} - {{fecha | titlecase}} [
              <span class="mishoras">{{hora}}:{{minutos}}:<span class="segundos">{{segundos}}</span></span>
           <span class="ampm"> {{ampm}}</span> ]
         </div>
           </button> 
       
      <p-menu #menu [popup]="true"  [model]="items" [style]="{'width':'200px','margin-top':'10px'}"></p-menu>
        

          
      </ng-template>            
  </p-menubar> -->


  <div class="container margen">
      <p-sidebar [(visible)]="display" 
      [style]="{'width':'345px','min-height': '88vh'}"  [showCloseIcon]="true" 
      [blockScroll]="false" >
      <a routerLink="/landing" (click)="display=false">
          <img alt="logo" src="assets/images/logo-uniguajira.png" width="260px" height="92px" style="margin-left: 20px ;margin-top: -7px;" 
          styleClass="p-button-outlined"class="mr-3"/><!-- (click)="display = true"  -->
      </a>
      <h4 class="fondebabutton" style="text-align: center;margin-bottom:-5px">{{nombre}}</h4>
      <hr>
          <!-- <p-panelMenu [model]="items" [style]="{'width':'192px','margin-left':'-5px'}"></p-panelMenu> -->
          <app-menu [menu]="menu1" (funcion)="ocultarMenu($event)"></app-menu>
          <!-- <div  class="padre grid align-items-center justify-content-cente">
              <span (click)="cerrarSesion()" 
              style="padding-left: 10px;padding-bottom: 10px;padding-top: 10px; cursor: pointer;">
                <i class="pi pi-power-off"  style="font-size: 1.5rem; margin-top: 5px;"></i>
                <span class="ml-4 font-bold" style=" width: 500px; font-size: 18px;">Logout</span>
              </span>
          </div> -->
      </p-sidebar>
      <div class="content">
        
        <router-outlet></router-outlet>
        <footer class="footer" style="padding-top: 20px;">
            
          <div class="footer__copyright" >
            <p>&copy; 2022</p>
            <p>Desarrollo Universidad de la Guajira - Programa Ing de Sistemas</p>
          </div>
      
          <div class="image"> 
            <img src="{{image2}}" alt="">
          </div>
        </footer>

      </div>
    </div>  

</ng-template>


<p-dialog [(visible)]="Dialog" 
[style]="{'height': '18vw','width': '25vw'}"[resizable]="false" zindex="10000"
 [showHeader]="false" [closeOnEscape]="false" [closable]="false"
[modal]="true" >

    <div class="flex flex-column " style="flex: 1">
        <div class="text-center">
            <i class="pi pi-exclamation-triangle" style="font-size: 3rem"></i>
            <h4>Esta seguro de Cerrar la Sesion?</h4>
            <p>Confirmar para continuar</p>
        </div>
    </div>

<ng-template pTemplate="footer" class="titleCard" >
  <div style="text-align: center;">
    <button pButton pRipple label="Cancel" icon="pi pi-times" style="color: rgb(31, 45, 64);" 
    class="p-button-text" (click)="hideDialog()"></button>
    <button pButton pRipple label="Save"  style="background: rgb(31, 45, 64);" 
    class=" p-button-raised p-button-rounded" 
    icon="pi pi-check"  (click)="cerrarSesion()"  ></button>
  </div>
  

</ng-template>
</p-dialog>
